@model dynamic
@{
    var dynamicData = Model.DynamicData;
    var dHoy = DateTime.Now;
    ViewData["Title"] = "Agenda";
}

<div class="bd-example">
    <div class="row">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
            <b style="color: #004A92; font-size: 20px;">Agenda</b>
        </div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">&nbsp;</div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
            <div class="row">
                <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                    <button type="button" class="evento_citado">Citado</button>
                </div>
                <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                    <button type="button" class="evento_confirmado">Confirmado</button>
                </div>
                <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                    <button type="button" class="evento_en_proceso">En proceso</button>
                </div>
                <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                    <button type="button" class="evento_atendido">Atendido</button>
                </div>
                <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                    <button type="button" class="evento_evaluacion">Evaluación</button>
                </div>
                <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                    <button type="button" class="evento_taller">Taller</button>
                </div>
            </div>
        </div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">&nbsp;</div>

        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 table-responsive calendar-container">
            <div id="my-calendar"></div>
        </div>
    </div>
</div>

<div id="mdl_cita" class="modal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="true">
    <div class="modal-dialog modal-lg" role="document" style="height: 90%; display: grid; place-items: center;">
        <div class="modal-content" style="width: 100%;">
            <div class="modal-header second_color" style="background-color: transparent;">
                <h5 class="modal-title" style="color: #FFFFFF;">Datos de cita</h5>
                <button onclick="cerrar_modal_cita()" type="button" class="close" aria-label="Close" style="outline: none; cursor: pointer; color: #FFFFFF;">
                    <span>&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                        <div class="row">

                            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                <div class="form-group">
                                    <span class="label-form">Fecha seleccionada</span><br />
                                    <input class="form-control" type="text" id="txtFecha" autocomplete="off" disabled="disabled" />
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6" id="divReasignar">
                                <div class="form-group">
                                    <span class="label-form">Fecha reasignar</span><br />
                                    <input class="form-control" type="date" id="txtFechaReasignar" autocomplete="off" max="2050-12-31" min="2022-08-01" onkeydown="return false" />
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                <div class="form-group">
                                    <span class="label-form">Especialista</span><br />
                                    <div class="input-group">
                                        <select class="form-control" id="cboDoctor" onchange="verificar_disponibilidad()">
                                            <option value="-1">Seleccionar</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                <div class="form-group">
                                    <span class="label-form">Hora</span><br />
                                    <div class="input-group date" id="dtpicker1">
                                        <input type="text" class="form-control form-hora" id="txtHora" onkeydown="return false;" onchange="validateHhMm(this);" onpaste="validateHhMm(this);" maxlength="8" placeholder="Seleccionar hora" autocomplete="off" />
                                        <span class="input-group-append input-group-addon">
                                            <span style="margin: 0 auto; display: flex; " class="input-group-text mdi mdi-clock">
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
                                <div class="form-group">
                                    <span class="label-form">Paciente</span><br />
                                    <select class="form-control" id="cboPaciente">
                                        <option value="-1">Seleccionar</option>
                                        <option value="2">Lorenzo Lalo</option>
                                        <option value="6">María Ramírez</option>
                                        <option value="7">Juan Ramírez</option>
                                        <option value="8">Ana Ramírez</option>
                                        <option value="9">Pedro Ramírez</option>
                                        <option value="10">Sofía Ramírez</option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                <div class="form-group">
                                    <table class="table table-responsive" style="display: inline-table;">
                                        <thead>
                                            <tr>
                                                <th class="text-center">Hora</th>
                                                <th class="text-center">Estado</th>
                                            </tr>
                                        </thead>
                                        <tbody id="divDisponibilidad"></tbody>
                                    </table>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="cerrar_modal_cita()">Volver</button>
                <button type="button" class="btn btn-primary main_color" onclick="guardar_cita()" id="btnGuardarCita">Guardar</button>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <link rel="stylesheet" href="~/assets/css/zabuto.css" />
    <link rel="stylesheet" href="~/assets/css/datetimepicker.css" />

    <script src="~/basic/zabuto.js?f=@dHoy.ToString("yyyyMMddhhmmss")"></script>
    <script src="~/basic/moments.js?f=@dHoy.ToString("yyyyMMddhhmmss")"></script>
    <script src="~/basic/datetimepicker.js?f=@dHoy.ToString("yyyyMMddhhmmss")"></script>

    <script src="~/basic/registro_citas.js?f=@dHoy.ToString("yyyyMMddhhmmss")"></script>
}